# API

The API project interacts with a mock REST API available at [https://jsonplaceholder.typicode.com/](https://jsonplaceholder.typicode.com/). It comprises four Python scripts designed to manage tasks for employees, offering various features including exporting tasks for specific users and all employees to JSON files. Structured to streamline task management and facilitate data export for further analysis or integration with other systems, the project simplifies the process of fetching, organizing, and exporting data in different formats using Python.


## Tasks

### 0-gather_data_from_an_API.py:

The Python script **0-gather_data_from_an_API.py** utilizes a REST API to fetch and display information about the progress of a given employee's TODO list. It accepts an employee ID as a parameter, retrieves the tasks associated with that employee from the API, and outputs the employee's name, the number of completed tasks out of the total tasks, and the titles of completed tasks with appropriate formatting.

### 1-export_to_CSV.py:

The Python script **1-export_to_CSV.py** extends the functionality from **0-gather_data_from_an_API.py** by exporting the retrieved data in CSV format. It records all tasks owned by the specified employee in a CSV file named after the user ID, with each row containing the user ID, username, task completion status, and task title, separated by commas.

### 2-export_to_JSON.py:

The Python script **2-export_to_JSON.py** builds upon **0-gather_data_from_an_API.py** by exporting the retrieved data in JSON format. It records all tasks owned by the specified employee in a JSON file named after the user ID, with each task represented as an object containing task title, completion status, and username, all nested under the user ID.

### 3-dictionary_of_list_of_dictionaries.py:

The Python script **3-dictionary_of_list_of_dictionaries.py** extends the functionality of  **0-gather_data_from_an_API.py** by exporting data in JSON format for all tasks from all employees. It organizes the tasks under each user ID, with each task represented as an object containing the task title, completion status, and username. The resulting JSON file is named todo_all_employees.json.


## Requirements

- Python 3.x
- requests library

## Usage

### Clone the repository:

```bash
git clone https://github.com/ThatsVie/atlas-back-end.git
```

### Navigate to the project directory:

```bash
cd api
```

### Install the required dependencies:

```bash
pip install requests
```
### Task 0

Input this command:
```bash
python3 0-gather_data_from_an_API.py 2
```

The command python3 0-gather_data_from_an_API.py 2 executes a Python script (0-gather_data_from_an_API.py) with the argument 2, representing the ID of a specific employee whose task data you want to fetch from the API.

![Screenshot 2024-03-16 133250](https://github.com/ThatsVie/atlas-back-end/assets/143755961/97a5ec43-8876-4da1-89ef-b88477caa151)

Next, input this command:
```bash
python3 0-gather_data_from_an_API.py 4
```

The command python3 0-gather_data_from_an_API.py 4 executes a Python script (0-gather_data_from_an_API.py) with the argument 4, representing the ID of another specific employee whose task data you want to retrieve from the API.

![Screenshot 2024-03-16 133413](https://github.com/ThatsVie/atlas-back-end/assets/143755961/9b3bab03-4de4-48bc-84ea-29009d86ab82)

Finally, input this command
```bash
python3 0-gather_data_from_an_API.py 4 | tr " " "S" | tr "\t" "T"
```

The command python3 0-gather_data_from_an_API.py 4 | tr " " "S" | tr "\t" "T" executes the Python script 0-gather_data_from_an_API.py with the argument 4, then it replaces spaces with "S" and tab characters with "T" in the output generated by the script.

![Screenshot 2024-03-16 133950](https://github.com/ThatsVie/atlas-back-end/assets/143755961/451649d1-61eb-4c45-b3a5-065725348fb0)

### Task 1

Input this command:
```bash
python3 1-export_to_CSV.py 2
```

The command python3 1-export_to_CSV.py 2 executes the Python script 1-export_to_CSV.py with the argument 2, which specifies the user ID whose tasks will be exported to a CSV file.

Then, input this command:
```bash
cat 2.csv
```

The command cat 2.csv displays the contents of the generated CSV file in the terminal, showing the tasks owned by employee Antonette along with their completion status and titles, each separated by commas.

![Screenshot 2024-03-16 135421](https://github.com/ThatsVie/atlas-back-end/assets/143755961/0c565268-9c2f-46e2-b3f0-95eadb30813e)

### Task 2

Input this command:

```bash
python3 2-export_to_JSON.py 2
```
This command executes the Python script 2-export_to_JSON.py with the argument 2, indicating the employee ID. The script retrieves tasks associated with employee ID 2 from the API and exports them into a JSON file named 2.json.

Then, input this command:

```bash
cat 2.json
```
The command displays the contents of the JSON file named 2.json. It contains task information associated with employee ID 2, where each task is represented as an object with properties such as task title (task), completion status (completed), and username (username). The tasks are organized under the key 2, indicating the employee ID, and each task object contains details such as the task title, completion status (true or false), and the username of the employee (Antonette).

![Screenshot 2024-03-16 150322](https://github.com/ThatsVie/atlas-back-end/assets/143755961/932f2570-3caf-4ea5-8158-9560bd9003c5)

### Task 3

Input this command:
```bash
python3 3-dictionary_of_list_of_dictionaries.py
```

This command executes the Python script 3-dictionary_of_list_of_dictionaries.py, which is designed to export task data in JSON format for all tasks from all employees. It retrieves task information from the specified REST API, organizes the tasks under each user ID, and exports the data into a JSON file named todo_all_employees.json. This file contains a dictionary where each key represents a user ID, and the corresponding value is a list of dictionaries, each containing task details such as the task title, completion status, and username.

Then, input this command:
```bash
cat todo_all_employees.json
```

This command displays the contents of the JSON file named todo_all_employees.json. This file contains task data for all employees in a structured format. Each user ID serves as a key in the JSON dictionary, and its corresponding value is a list of dictionaries. Each dictionary represents a task, containing information such as the task title, completion status, and username associated with that task.

![Screenshot 2024-03-16 150759](https://github.com/ThatsVie/atlas-back-end/assets/143755961/59bccd5a-3130-4fe2-bb12-0170ae901bb7)


## Usage - Using Postman

To replicate the functionality of your Python script using Postman, follow these steps:

**Step 1: Open Postman**

If you haven't already, open Postman on your system.

**Step 2: Create a New Request**
Click on the "+"button in the top left corner.
![Screenshot 2024-03-17 141231](https://github.com/ThatsVie/atlas-back-end/assets/143755961/2a35ebc7-fc32-41bc-90d0-dd9379dcd390)

Choose the HTTP method "GET".

Enter the URL for the API endpoint. For example:
```bash
https://jsonplaceholder.typicode.com/users/{employee_id}
```
Replace {employee_id} with the actual ID of the employee you want to retrieve TODO list progress for.
In this case we will look at employee_id **2**

```bash
https://jsonplaceholder.typicode.com/users/2
```
![Screenshot 2024-03-17 142026](https://github.com/ThatsVie/atlas-back-end/assets/143755961/2856d31f-a4ce-4b8d-8708-d66cb6f1197f)

**Step 3: Send the Request**

Click on the "Send" button to send the request to the API endpoint.
Postman will make the request and display the response in the main window.

![Screenshot 2024-03-17 142336](https://github.com/ThatsVie/atlas-back-end/assets/143755961/569f254a-afba-435b-884b-09a79390d9b4)

**Step 4: Retrieve Employee Name**

Once you receive the response, check the JSON body to find the employee's name.
You can use this name for the output.


Now, try it for employee_id **4**

```bash
https://jsonplaceholder.typicode.com/users/4
```
![Screenshot 2024-03-17 143639](https://github.com/ThatsVie/atlas-back-end/assets/143755961/4d3c5b70-6cd5-4f33-b47c-fcfb1088105c)


**Step 5: Retrieve Total Number of Tasks Assigned**
To retrieve the total number of tasks assigned to the employee, create another request.
Change the URL to:
```bash
https://jsonplaceholder.typicode.com/users/{employee_id}/todos
```
Replace {employee_id} with the actual ID of the employee you want to retrieve TODO list progress for.
In this case we will look at employee_id **2**

```bash
https://jsonplaceholder.typicode.com/users/2/todos
```
Send the request and count the number of tasks in the response JSON array. This count represents the total number of tasks assigned.

![Screenshot 2024-03-17 143044](https://github.com/ThatsVie/atlas-back-end/assets/143755961/299d432c-cab8-4de0-a87d-54c48d707121)

